# Copyright 2023 Canonical Ltd.
# See LICENSE file for licensing details.
name: dex-auth
display-name: Dex
summary: A federated OpenID Connect provider
description: |
  Dex is an identity service that uses OpenID Connect to drive authentication for other apps.
website: https://charmhub.io/dex-auth
source: https://github.com/canonical/dex-auth-operator
issues: https://github.com/canonical/dex-auth-operator/issues
docs: https://discourse.charmhub.io/t/charmed-dex/8214
requires:
  oidc-client:
    interface: oidc-client
  ingress:
    interface: ingress
  ingress-v2:
    interface: ingress
    limit: 1
  logging:
    interface: loki_push_api
    optional: true
provides:
  metrics-endpoint:
    interface: prometheus_scrape
  grafana-dashboard:
    interface: grafana_dashboard
  dex-oidc-config:
    interface: dex-oidc-config
containers:
  dex:
    resource: oci-image
resources:
  oci-image:
    type: oci-image
    description: OCI image for dex container
    upstream-source: charmedkubeflow/dex:2.39.1-a91817e
